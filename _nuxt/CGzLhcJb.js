import{G as x,p as b,o as p,w as y,H as P,j as i,i as G,T as J,K as I,U as Q,V as H,W as X,M as v,r as B,L as Y,J as C,c as g,n as K,F as j,X as Z,m as N,Y as ee,Z as te,b as _,Q as L,g as q,k as ae,a as h,B as ne,t as M}from"./DSEykwYx.js";import{_ as R,a as F}from"./DNvh0mB0.js";import{c as O}from"./DjqsqOe8.js";import{a as W,t as se,b as oe,u as z,c as re}from"./CefdZQ55.js";import{P as S}from"./zTWoilW6.js";import{s as V,_ as le}from"./le1yrNBj.js";const ie=x({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(r){return(t,a)=>(p(),b(i(S),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:y(()=>[P(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function ue(r,t){const a=`${r}Context`,l=Symbol(a);return[s=>{const u=G(l,s);if(u||u===null)return u;throw new Error(`Injection \`${l.toString()}\` not found. Component must be used within ${Array.isArray(r)?`one of the following components: ${r.join(", ")}`:`\`${r}\``}`)},s=>(J(l,s),s)]}function de(r){const t=I(),a=t==null?void 0:t.type.emits,l={};return a!=null&&a.length||console.warn(`No emitted event found. Please check component: ${t==null?void 0:t.type.__name}`),a==null||a.forEach(n=>{l[Q(H(n))]=(...o)=>r(n,...o)}),l}function ce(r){const t=I(),a=Object.keys((t==null?void 0:t.type.props)??{}).reduce((n,o)=>{const s=(t==null?void 0:t.type.props[o]).default;return s!==void 0&&(n[o]=s),n},{}),l=X(r);return v(()=>{const n={},o=(t==null?void 0:t.vnode.props)??{};return Object.keys(o).forEach(s=>{n[H(s)]=o[s]}),Object.keys({...a,...n}).reduce((s,u)=>(l.value[u]!==void 0&&(s[u]=l.value[u]),s),{})})}function pe(r,t){const a=ce(r),l=t?de(t):{};return v(()=>({...a.value,...l}))}function fe(){const r=B(),t=v(()=>{var a,l;return["#text","#comment"].includes((a=r.value)==null?void 0:a.$el.nodeName)?(l=r.value)==null?void 0:l.$el.nextElementSibling:W(r)});return{primitiveElement:r,currentElement:t}}function me(r){return v(()=>{var t;return se(r)?!!((t=W(r))!=null&&t.closest("form")):!0})}const T=x({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const t=r,{primitiveElement:a,currentElement:l}=fe(),n=v(()=>t.checked??t.value);return Y(n,(o,s)=>{if(!l.value)return;const u=l.value,k=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(k,"value").set;if(w&&o!==s){const d=new Event("input",{bubbles:!0}),E=new Event("change",{bubbles:!0});w.call(u,o),u.dispatchEvent(d),u.dispatchEvent(E)}}),(o,s)=>(p(),b(ie,C({ref_key:"primitiveElement",ref:a},{...t,...o.$attrs},{as:"input"}),null,16))}}),he=x({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const t=r,a=v(()=>typeof t.value=="object"&&Array.isArray(t.value)&&t.value.length===0&&t.required),l=v(()=>typeof t.value=="string"||typeof t.value=="number"||typeof t.value=="boolean"?[{name:t.name,value:t.value}]:typeof t.value=="object"&&Array.isArray(t.value)?t.value.flatMap((n,o)=>typeof n=="object"?Object.entries(n).map(([s,u])=>({name:`[${t.name}][${o}][${s}]`,value:u})):{name:`[${t.name}][${o}]`,value:n}):t.value!==null&&typeof t.value=="object"&&!Array.isArray(t.value)?Object.entries(t.value).map(([n,o])=>({name:`[${t.name}][${n}]`,value:o})):[]);return(n,o)=>a.value?(p(),b(T,C({key:n.name},{...t,...n.$attrs},{name:n.name,value:n.value}),null,16,["name","value"])):(p(!0),g(j,{key:1},K(l.value,s=>(p(),b(T,C({key:s.name,ref_for:!0},{...t,...n.$attrs},{name:s.name,value:s.value}),null,16,["name","value"]))),128))}}),[ve,ye]=ue("SwitchRoot"),be=x({__name:"SwitchRoot",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean},id:{},value:{default:"on"},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:t}){const a=r,l=t,{disabled:n}=Z(a),o=oe(a,"modelValue",l,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function s(){n.value||(o.value=!o.value)}const{forwardRef:u,currentElement:k}=z(),$=me(k),w=v(()=>{var d;return a.id&&k.value?(d=document.querySelector(`[for="${a.id}"]`))==null?void 0:d.innerText:void 0});return ye({modelValue:o,toggleCheck:s,disabled:n}),(d,E)=>(p(),b(i(S),C(d.$attrs,{id:d.id,ref:i(u),role:"switch",type:d.as==="button"?"button":void 0,value:d.value,"aria-label":d.$attrs["aria-label"]||w.value,"aria-checked":i(o),"aria-required":d.required,"data-state":i(o)?"checked":"unchecked","data-disabled":i(n)?"":void 0,"as-child":d.asChild,as:d.as,disabled:i(n),onClick:s,onKeydown:ee(te(s,["prevent"]),["enter"])}),{default:y(()=>[P(d.$slots,"default",{modelValue:i(o)}),i($)&&d.name?(p(),b(i(he),{key:0,type:"checkbox",name:d.name,disabled:i(n),required:d.required,value:d.value,checked:!!i(o)},null,8,["name","disabled","required","value","checked"])):N("",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),we=x({__name:"SwitchThumb",props:{asChild:{type:Boolean},as:{default:"span"}},setup(r){const t=ve();return z(),(a,l)=>{var n;return p(),b(i(S),{"data-state":(n=i(t).modelValue)!=null&&n.value?"checked":"unchecked","data-disabled":i(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:y(()=>[P(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}}),ge=x({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(r,{emit:t}){const a=r,l=t,n=v(()=>{const{class:s,...u}=a;return u}),o=pe(n,l);return(s,u)=>(p(),b(i(be),C({"data-slot":"switch"},i(o),{class:i(O)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:y(()=>[_(i(we),{"data-slot":"switch-thumb",class:L(i(O)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"))},{default:y(()=>[P(s.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),ke={class:"px-6 py-10 max-w-6xl mx-auto"},_e={key:0,class:"flex items-center gap-2 justify-center md:justify-end p-4 sm:justify-center"},xe={key:1,class:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-3 md:gap-6 gap-3"},Ce=["src","alt"],$e={class:"absolute top-2 right-2 bg-black/70 text-white px-3 py-2 rounded"},Ee={key:1,class:"flex flex-col items-center justify-center text-white/40 text-sm text-center px-4"},Ve={key:2,class:"flex justify-center px-6 py-16 text-center"},Be=80,Re={__name:"my-collection",setup(r){const{getMyNFTs:t}=re(),a=B(!1),l=B([]),n=B(!1),s=q().public.proxyAddress;function u(c){return l.value[c]&&l.value[c]>0}const k=v(()=>Array.from({length:Be},(c,f)=>f).filter(c=>n.value?u(c):!0));function $(c){window.open(`https://testnets.opensea.io/assets/sepolia/${s}/${c}`,"_blank")}let w,d;const E=async()=>{try{window.ethereum||V("Wallet not found. Install MetaMask.",e),w=new ne(window.ethereum),(await w.send("eth_accounts",[])).length>0?(d=await w.getSigner(),a.value=!0,await D()):V("Wallet not connected",e)}catch(c){V("Connection Error",c)}},D=async()=>{try{const{ids:c,amounts:f}=await t(),m={};c.forEach((A,U)=>{m[A.toString()]=parseInt(f[U].toString())}),l.value=m}catch(c){V("Error fetching cards",c)}};return ae(async()=>{await E()}),(c,f)=>(p(),g(j,null,[_(i(le)),h("div",{class:L(["min-h-screen w-full text-white",{"overflow-x-hidden":!0}])},[h("div",ke,[a.value?(p(),g("div",_e,[f[1]||(f[1]=h("label",{class:"text-sm text-white"},"Show only owned",-1)),_(i(ge),{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=m=>n.value=m),class:"data-[state=checked]:bg-yellow-400"},null,8,["modelValue"])])):N("",!0),f[4]||(f[4]=h("h1",{class:"text-4xl font-bold text-center mb-10"},"My Collection",-1)),a.value?(p(),g("div",xe,[(p(!0),g(j,null,K(k.value,m=>(p(),b(i(F),{key:m,class:"aspect-[3/4] relative overflow-hidden bg-white/5 border border-white/20 rounded-xl shadow-md transition-transform duration-300 hover:scale-110 hover:drop-shadow-lg cursor-pointer",onClick:A=>$(m)},{default:y(()=>[_(i(R),{class:"w-full h-full flex items-center justify-center relative"},{default:y(()=>[u(m)?(p(),g(j,{key:0},[h("img",{src:`${("useRuntimeConfig"in c?c.useRuntimeConfig:i(q))().app.baseURL}/cards/${m}.png`,alt:`Card #${m}`,class:"object-contain w-full h-full"},null,8,Ce),h("div",$e," Ã—"+M(l.value[m]),1)],64)):(p(),g("div",Ee,[h("span",null,"Card #"+M(m),1),f[2]||(f[2]=h("span",null,"not owned",-1))]))]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):(p(),g("div",Ve,[_(i(F),{class:"max-w-4xl p-8"},{default:y(()=>[_(i(R),null,{default:y(()=>f[3]||(f[3]=[h("h1",{class:"text-4xl sm:text-5xl md:text-4xl font-bold tracking-tight mb-6 text-center p-4"}," Wallet not connected ",-1),h("p",{class:"md:text-xl leading-relaxed"}," To view your collection, connect with MetaMask ",-1)])),_:1})]),_:1})]))])])],64))}};export{Re as default};
