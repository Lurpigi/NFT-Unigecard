import{_ as q,a as M}from"./dBFWUy7R.js";import{c as F}from"./DjqsqOe8.js";import{G as x,p as b,o as c,w as y,H as P,j as i,i as U,T as G,K as T,U as J,V as I,W as Q,M as v,r as B,L as X,J as $,c as g,n as H,F as j,X as Y,m as K,Y as Z,Z as ee,b as _,Q as N,g as te,k as ae,a as h,B as ne,t as O}from"./Dtu0JvHn.js";import{a as W,t as se,b as oe,u as L,c as re}from"./CM1jaFP9.js";import{P as S}from"./CYw9dD7C.js";import{s as V,_ as le}from"./O9TmTQVe.js";const ie=x({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(r){return(t,a)=>(c(),b(i(S),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:y(()=>[P(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function de(r,t){const a=`${r}Context`,l=Symbol(a);return[s=>{const d=U(l,s);if(d||d===null)return d;throw new Error(`Injection \`${l.toString()}\` not found. Component must be used within ${Array.isArray(r)?`one of the following components: ${r.join(", ")}`:`\`${r}\``}`)},s=>(G(l,s),s)]}function ue(r){const t=T(),a=t==null?void 0:t.type.emits,l={};return a!=null&&a.length||console.warn(`No emitted event found. Please check component: ${t==null?void 0:t.type.__name}`),a==null||a.forEach(n=>{l[J(I(n))]=(...o)=>r(n,...o)}),l}function ce(r){const t=T(),a=Object.keys((t==null?void 0:t.type.props)??{}).reduce((n,o)=>{const s=(t==null?void 0:t.type.props[o]).default;return s!==void 0&&(n[o]=s),n},{}),l=Q(r);return v(()=>{const n={},o=(t==null?void 0:t.vnode.props)??{};return Object.keys(o).forEach(s=>{n[I(s)]=o[s]}),Object.keys({...a,...n}).reduce((s,d)=>(l.value[d]!==void 0&&(s[d]=l.value[d]),s),{})})}function pe(r,t){const a=ce(r),l=t?ue(t):{};return v(()=>({...a.value,...l}))}function fe(){const r=B(),t=v(()=>{var a,l;return["#text","#comment"].includes((a=r.value)==null?void 0:a.$el.nodeName)?(l=r.value)==null?void 0:l.$el.nextElementSibling:W(r)});return{primitiveElement:r,currentElement:t}}function me(r){return v(()=>{var t;return se(r)?!!((t=W(r))!=null&&t.closest("form")):!0})}const R=x({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const t=r,{primitiveElement:a,currentElement:l}=fe(),n=v(()=>t.checked??t.value);return X(n,(o,s)=>{if(!l.value)return;const d=l.value,k=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(k,"value").set;if(w&&o!==s){const u=new Event("input",{bubbles:!0}),E=new Event("change",{bubbles:!0});w.call(d,o),d.dispatchEvent(u),d.dispatchEvent(E)}}),(o,s)=>(c(),b(ie,$({ref_key:"primitiveElement",ref:a},{...t,...o.$attrs},{as:"input"}),null,16))}}),he=x({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const t=r,a=v(()=>typeof t.value=="object"&&Array.isArray(t.value)&&t.value.length===0&&t.required),l=v(()=>typeof t.value=="string"||typeof t.value=="number"||typeof t.value=="boolean"?[{name:t.name,value:t.value}]:typeof t.value=="object"&&Array.isArray(t.value)?t.value.flatMap((n,o)=>typeof n=="object"?Object.entries(n).map(([s,d])=>({name:`[${t.name}][${o}][${s}]`,value:d})):{name:`[${t.name}][${o}]`,value:n}):t.value!==null&&typeof t.value=="object"&&!Array.isArray(t.value)?Object.entries(t.value).map(([n,o])=>({name:`[${t.name}][${n}]`,value:o})):[]);return(n,o)=>a.value?(c(),b(R,$({key:n.name},{...t,...n.$attrs},{name:n.name,value:n.value}),null,16,["name","value"])):(c(!0),g(j,{key:1},H(l.value,s=>(c(),b(R,$({key:s.name,ref_for:!0},{...t,...n.$attrs},{name:s.name,value:s.value}),null,16,["name","value"]))),128))}}),[ve,ye]=de("SwitchRoot"),be=x({__name:"SwitchRoot",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean},id:{},value:{default:"on"},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:t}){const a=r,l=t,{disabled:n}=Y(a),o=oe(a,"modelValue",l,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function s(){n.value||(o.value=!o.value)}const{forwardRef:d,currentElement:k}=L(),C=me(k),w=v(()=>{var u;return a.id&&k.value?(u=document.querySelector(`[for="${a.id}"]`))==null?void 0:u.innerText:void 0});return ye({modelValue:o,toggleCheck:s,disabled:n}),(u,E)=>(c(),b(i(S),$(u.$attrs,{id:u.id,ref:i(d),role:"switch",type:u.as==="button"?"button":void 0,value:u.value,"aria-label":u.$attrs["aria-label"]||w.value,"aria-checked":i(o),"aria-required":u.required,"data-state":i(o)?"checked":"unchecked","data-disabled":i(n)?"":void 0,"as-child":u.asChild,as:u.as,disabled:i(n),onClick:s,onKeydown:Z(ee(s,["prevent"]),["enter"])}),{default:y(()=>[P(u.$slots,"default",{modelValue:i(o)}),i(C)&&u.name?(c(),b(i(he),{key:0,type:"checkbox",name:u.name,disabled:i(n),required:u.required,value:u.value,checked:!!i(o)},null,8,["name","disabled","required","value","checked"])):K("",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),we=x({__name:"SwitchThumb",props:{asChild:{type:Boolean},as:{default:"span"}},setup(r){const t=ve();return L(),(a,l)=>{var n;return c(),b(i(S),{"data-state":(n=i(t).modelValue)!=null&&n.value?"checked":"unchecked","data-disabled":i(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:y(()=>[P(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}}),ge=x({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(r,{emit:t}){const a=r,l=t,n=v(()=>{const{class:s,...d}=a;return d}),o=pe(n,l);return(s,d)=>(c(),b(i(be),$({"data-slot":"switch"},i(o),{class:i(F)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:y(()=>[_(i(we),{"data-slot":"switch-thumb",class:N(i(F)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"))},{default:y(()=>[P(s.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),ke={class:"px-6 py-10 max-w-6xl mx-auto"},_e={key:0,class:"flex items-center gap-2 justify-center md:justify-end p-4 sm:justify-center"},xe={key:1,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},$e=["src","alt"],Ce={class:"absolute top-2 right-2 bg-black/70 text-white px-3 py-2 rounded"},Ee={key:1,class:"flex flex-col items-center justify-center text-white/40 text-sm text-center px-4"},Ve={key:2,class:"flex justify-center px-6 py-16 text-center"},Be=80,Fe={__name:"my-collection",setup(r){const{getMyNFTs:t}=re(),a=B(!1),l=B([]),n=B(!1),s=te().public.proxyAddress;function d(p){return l.value[p]&&l.value[p]>0}const k=v(()=>Array.from({length:Be},(p,f)=>f).filter(p=>n.value?d(p):!0));function C(p){window.open(`https://testnets.opensea.io/assets/sepolia/${s}/${p}`,"_blank")}let w,u;const E=async()=>{try{window.ethereum||V("Wallet not found. Install MetaMask.",e),w=new ne(window.ethereum),(await w.send("eth_accounts",[])).length>0?(u=await w.getSigner(),a.value=!0,await z()):V("Wallet not connected",e)}catch(p){V("Connection Error",p)}},z=async()=>{try{const{ids:p,amounts:f}=await t(),m={};p.forEach((A,D)=>{m[A.toString()]=parseInt(f[D].toString())}),l.value=m}catch(p){V("Error fetching cards",p)}};return ae(async()=>{await E()}),(p,f)=>(c(),g(j,null,[_(i(le)),h("div",{class:N(["min-h-screen w-full text-white",{"overflow-x-hidden":!0}])},[h("div",ke,[a.value?(c(),g("div",_e,[f[1]||(f[1]=h("label",{class:"text-sm text-white"},"Show only owned",-1)),_(i(ge),{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=m=>n.value=m),class:"data-[state=checked]:bg-yellow-400"},null,8,["modelValue"])])):K("",!0),f[4]||(f[4]=h("h1",{class:"text-4xl font-bold text-center mb-10"},"My Collection",-1)),a.value?(c(),g("div",xe,[(c(!0),g(j,null,H(k.value,m=>(c(),b(i(M),{key:m,class:"aspect-[3/4] relative overflow-hidden bg-white/5 border border-white/20 rounded-xl shadow-md transition-transform duration-300 hover:scale-110 hover:drop-shadow-lg cursor-pointer",onClick:A=>C(m)},{default:y(()=>[_(i(q),{class:"w-full h-full flex items-center justify-center relative"},{default:y(()=>[d(m)?(c(),g(j,{key:0},[h("img",{src:`/cards/${m}.png`,alt:`Card #${m}`,class:"object-contain w-full h-full"},null,8,$e),h("div",Ce," Ã—"+O(l.value[m]),1)],64)):(c(),g("div",Ee,[h("span",null,"Card #"+O(m),1),f[2]||(f[2]=h("span",null,"not owned",-1))]))]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):(c(),g("div",Ve,[_(i(M),{class:"max-w-4xl p-8"},{default:y(()=>[_(i(q),null,{default:y(()=>f[3]||(f[3]=[h("h1",{class:"text-4xl sm:text-5xl md:text-4xl font-bold tracking-tight mb-6 text-center p-4"}," Wallet not connected ",-1),h("p",{class:"md:text-xl leading-relaxed"}," To view your collection, connect with MetaMask ",-1)])),_:1})]),_:1})]))])])],64))}};export{Fe as default};
