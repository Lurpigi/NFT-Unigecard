import{q as x,p as b,o as p,w as v,s as P,j as i,i as W,H as U,x as I,I as J,J as O,K as G,z as y,r as V,y as Q,v as $,c as g,n as T,F as j,L as X,m as N,M as Y,N as Z,b as _,D as H,g as q,k as ee,a as h,t as M}from"./BHOa0l-c.js";import{_ as te,a as ae}from"./Byo5Mz5-.js";import{_ as ne,a as se}from"./DPXN15aA.js";import{c as R}from"./DjqsqOe8.js";import{b as K,t as oe,c as re,u as L,d as le}from"./BQ_8_feI.js";import{P as S}from"./Q5flUCe0.js";import{s as B,_ as ie}from"./BGG_w6bP.js";import{B as de}from"./ulqfyjqD.js";const ue=x({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(r){return(t,a)=>(p(),b(i(S),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:v(()=>[P(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function ce(r,t){const a=`${r}Context`,l=Symbol(a);return[s=>{const d=W(l,s);if(d||d===null)return d;throw new Error(`Injection \`${l.toString()}\` not found. Component must be used within ${Array.isArray(r)?`one of the following components: ${r.join(", ")}`:`\`${r}\``}`)},s=>(U(l,s),s)]}function pe(r){const t=I(),a=t==null?void 0:t.type.emits,l={};return a!=null&&a.length||console.warn(`No emitted event found. Please check component: ${t==null?void 0:t.type.__name}`),a==null||a.forEach(n=>{l[J(O(n))]=(...o)=>r(n,...o)}),l}function fe(r){const t=I(),a=Object.keys((t==null?void 0:t.type.props)??{}).reduce((n,o)=>{const s=(t==null?void 0:t.type.props[o]).default;return s!==void 0&&(n[o]=s),n},{}),l=G(r);return y(()=>{const n={},o=(t==null?void 0:t.vnode.props)??{};return Object.keys(o).forEach(s=>{n[O(s)]=o[s]}),Object.keys({...a,...n}).reduce((s,d)=>(l.value[d]!==void 0&&(s[d]=l.value[d]),s),{})})}function me(r,t){const a=fe(r),l=t?pe(t):{};return y(()=>({...a.value,...l}))}function he(){const r=V(),t=y(()=>{var a,l;return["#text","#comment"].includes((a=r.value)==null?void 0:a.$el.nodeName)?(l=r.value)==null?void 0:l.$el.nextElementSibling:K(r)});return{primitiveElement:r,currentElement:t}}function ye(r){return y(()=>{var t;return oe(r)?!!((t=K(r))!=null&&t.closest("form")):!0})}const F=x({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const t=r,{primitiveElement:a,currentElement:l}=he(),n=y(()=>t.checked??t.value);return Q(n,(o,s)=>{if(!l.value)return;const d=l.value,k=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(k,"value").set;if(w&&o!==s){const u=new Event("input",{bubbles:!0}),E=new Event("change",{bubbles:!0});w.call(d,o),d.dispatchEvent(u),d.dispatchEvent(E)}}),(o,s)=>(p(),b(ue,$({ref_key:"primitiveElement",ref:a},{...t,...o.$attrs},{as:"input"}),null,16))}}),ve=x({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const t=r,a=y(()=>typeof t.value=="object"&&Array.isArray(t.value)&&t.value.length===0&&t.required),l=y(()=>typeof t.value=="string"||typeof t.value=="number"||typeof t.value=="boolean"?[{name:t.name,value:t.value}]:typeof t.value=="object"&&Array.isArray(t.value)?t.value.flatMap((n,o)=>typeof n=="object"?Object.entries(n).map(([s,d])=>({name:`[${t.name}][${o}][${s}]`,value:d})):{name:`[${t.name}][${o}]`,value:n}):t.value!==null&&typeof t.value=="object"&&!Array.isArray(t.value)?Object.entries(t.value).map(([n,o])=>({name:`[${t.name}][${n}]`,value:o})):[]);return(n,o)=>a.value?(p(),b(F,$({key:n.name},{...t,...n.$attrs},{name:n.name,value:n.value}),null,16,["name","value"])):(p(!0),g(j,{key:1},T(l.value,s=>(p(),b(F,$({key:s.name,ref_for:!0},{...t,...n.$attrs},{name:s.name,value:s.value}),null,16,["name","value"]))),128))}}),[be,we]=ce("SwitchRoot"),ge=x({__name:"SwitchRoot",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean},id:{},value:{default:"on"},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:t}){const a=r,l=t,{disabled:n}=X(a),o=re(a,"modelValue",l,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function s(){n.value||(o.value=!o.value)}const{forwardRef:d,currentElement:k}=L(),C=ye(k),w=y(()=>{var u;return a.id&&k.value?(u=document.querySelector(`[for="${a.id}"]`))==null?void 0:u.innerText:void 0});return we({modelValue:o,toggleCheck:s,disabled:n}),(u,E)=>(p(),b(i(S),$(u.$attrs,{id:u.id,ref:i(d),role:"switch",type:u.as==="button"?"button":void 0,value:u.value,"aria-label":u.$attrs["aria-label"]||w.value,"aria-checked":i(o),"aria-required":u.required,"data-state":i(o)?"checked":"unchecked","data-disabled":i(n)?"":void 0,"as-child":u.asChild,as:u.as,disabled:i(n),onClick:s,onKeydown:Y(Z(s,["prevent"]),["enter"])}),{default:v(()=>[P(u.$slots,"default",{modelValue:i(o)}),i(C)&&u.name?(p(),b(i(ve),{key:0,type:"checkbox",name:u.name,disabled:i(n),required:u.required,value:u.value,checked:!!i(o)},null,8,["name","disabled","required","value","checked"])):N("",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),ke=x({__name:"SwitchThumb",props:{asChild:{type:Boolean},as:{default:"span"}},setup(r){const t=be();return L(),(a,l)=>{var n;return p(),b(i(S),{"data-state":(n=i(t).modelValue)!=null&&n.value?"checked":"unchecked","data-disabled":i(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:v(()=>[P(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}}),_e=x({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(r,{emit:t}){const a=r,l=t,n=y(()=>{const{class:s,...d}=a;return d}),o=me(n,l);return(s,d)=>(p(),b(i(ge),$({"data-slot":"switch"},i(o),{class:i(R)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:v(()=>[_(i(ke),{"data-slot":"switch-thumb",class:H(i(R)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"))},{default:v(()=>[P(s.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),xe={class:"px-6 py-10 max-w-6xl mx-auto"},$e={key:0,class:"flex items-center gap-2 justify-center md:justify-end p-4 sm:justify-center"},Ce={key:1,class:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-3 md:gap-6 gap-3"},Ee=["src","alt"],Be={class:"absolute top-2 right-2 bg-black/70 text-white px-1 py-0.8 md:px-3 md:py-2 rounded"},Ve={key:1,class:"flex flex-col items-center justify-center text-white/40 text-xs md:text-xl text-center px-4"},je={key:2,class:"flex justify-center px-6 py-16 text-center"},Pe=80,Te={__name:"my-collection",setup(r){const{getMyNFTs:t}=le(),a=V(!1),l=V([]),n=V(!1),s=q().public.proxyAddress;function d(c){return l.value[c]&&l.value[c]>0}const k=y(()=>Array.from({length:Pe},(c,f)=>f).filter(c=>n.value?d(c):!0));function C(c){window.open(`https://testnets.opensea.io/assets/sepolia/${s}/${c}`,"_blank")}let w,u;const E=async()=>{try{window.ethereum||B("Wallet not found. Install MetaMask.",e),w=new de(window.ethereum),(await w.send("eth_accounts",[])).length>0?(u=await w.getSigner(),a.value=!0,await z()):B("Wallet not connected",e)}catch(c){B("Connection Error",c)}},z=async()=>{try{const{ids:c,amounts:f}=await t(),m={};c.forEach((A,D)=>{m[A.toString()]=parseInt(f[D].toString())}),l.value=m}catch(c){B("Error fetching cards",c)}};return ee(async()=>{await E()}),(c,f)=>(p(),g(j,null,[_(i(ie)),h("div",{class:H(["min-h-screen w-full text-white",{"overflow-x-hidden":!0}])},[h("div",xe,[a.value?(p(),g("div",$e,[f[1]||(f[1]=h("label",{class:"text-sm text-white"},"Show only owned",-1)),_(i(_e),{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=m=>n.value=m),class:"data-[state=checked]:bg-yellow-400"},null,8,["modelValue"])])):N("",!0),f[4]||(f[4]=h("h1",{class:"text-4xl font-bold text-center mb-10"},"My Collection",-1)),a.value?(p(),g("div",Ce,[(p(!0),g(j,null,T(k.value,m=>(p(),b(i(ae),{key:m,class:"aspect-[3/4] relative overflow-hidden bg-white/5 border border-white/20 rounded-xl shadow-md transition-transform duration-300 hover:scale-110 hover:drop-shadow-lg cursor-pointer",onClick:A=>C(m)},{default:v(()=>[_(i(te),{class:"w-full h-full flex items-center justify-center relative"},{default:v(()=>[d(m)?(p(),g(j,{key:0},[h("img",{src:`${("useRuntimeConfig"in c?c.useRuntimeConfig:i(q))().app.baseURL}/cards/${m}.png`,alt:`Card #${m}`,class:"object-contain w-full h-full"},null,8,Ee),h("div",Be," Ã—"+M(l.value[m]),1)],64)):(p(),g("div",Ve,[h("span",null,"Card #"+M(m),1),f[2]||(f[2]=h("span",null,"not owned",-1))]))]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):(p(),g("div",je,[_(i(se),{class:"max-w-4xl p-8"},{default:v(()=>[_(i(ne),null,{default:v(()=>f[3]||(f[3]=[h("h1",{class:"text-4xl sm:text-5xl md:text-4xl font-bold tracking-tight mb-6 text-center p-4"}," Wallet not connected ",-1),h("p",{class:"md:text-xl leading-relaxed"}," To view your collection, connect with MetaMask ",-1)])),_:1})]),_:1})]))])])],64))}};export{Te as default};
