import{k as $,j as b,o as p,w as v,l as P,e as i,B as L,C as W,n as O,D as z,E as I,G as U,q as y,r as V,p as G,m as C,c as w,i as T,F as j,H as J,h as H,I as Q,J as X,b as x,y as K,u as q,f as Y,a as h,t as R}from"./C5tU6Sw9.js";import{_ as Z,a as ee}from"./dMyUK0hK.js";import{_ as te,a as ae}from"./5jEnxbtk.js";import{c as F}from"./DjqsqOe8.js";import{c as N,t as ne,d as se,u as D,e as oe}from"./B_yfOFTz.js";import{P as A}from"./CIgw1aA1.js";import{s as B,_ as re}from"./CcQs0JsT.js";import{B as le}from"./Cyp0RKsw.js";const ie=$({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(r){return(t,a)=>(p(),b(i(A),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:v(()=>[P(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function de(r,t){const a=`${r}Context`,l=Symbol(a);return[s=>{const d=L(l,s);if(d||d===null)return d;throw new Error(`Injection \`${l.toString()}\` not found. Component must be used within ${Array.isArray(r)?`one of the following components: ${r.join(", ")}`:`\`${r}\``}`)},s=>(W(l,s),s)]}function ue(r){const t=O(),a=t==null?void 0:t.type.emits,l={};return a!=null&&a.length||console.warn(`No emitted event found. Please check component: ${t==null?void 0:t.type.__name}`),a==null||a.forEach(n=>{l[z(I(n))]=(...o)=>r(n,...o)}),l}function ce(r){const t=O(),a=Object.keys((t==null?void 0:t.type.props)??{}).reduce((n,o)=>{const s=(t==null?void 0:t.type.props[o]).default;return s!==void 0&&(n[o]=s),n},{}),l=U(r);return y(()=>{const n={},o=(t==null?void 0:t.vnode.props)??{};return Object.keys(o).forEach(s=>{n[I(s)]=o[s]}),Object.keys({...a,...n}).reduce((s,d)=>(l.value[d]!==void 0&&(s[d]=l.value[d]),s),{})})}function pe(r,t){const a=ce(r),l=t?ue(t):{};return y(()=>({...a.value,...l}))}function fe(){const r=V(),t=y(()=>{var a,l;return["#text","#comment"].includes((a=r.value)==null?void 0:a.$el.nodeName)?(l=r.value)==null?void 0:l.$el.nextElementSibling:N(r)});return{primitiveElement:r,currentElement:t}}function me(r){return y(()=>{var t;return ne(r)?!!((t=N(r))!=null&&t.closest("form")):!0})}const M=$({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const t=r,{primitiveElement:a,currentElement:l}=fe(),n=y(()=>t.checked??t.value);return G(n,(o,s)=>{if(!l.value)return;const d=l.value,g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"value").set;if(_&&o!==s){const u=new Event("input",{bubbles:!0}),E=new Event("change",{bubbles:!0});_.call(d,o),d.dispatchEvent(u),d.dispatchEvent(E)}}),(o,s)=>(p(),b(ie,C({ref_key:"primitiveElement",ref:a},{...t,...o.$attrs},{as:"input"}),null,16))}}),he=$({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const t=r,a=y(()=>typeof t.value=="object"&&Array.isArray(t.value)&&t.value.length===0&&t.required),l=y(()=>typeof t.value=="string"||typeof t.value=="number"||typeof t.value=="boolean"?[{name:t.name,value:t.value}]:typeof t.value=="object"&&Array.isArray(t.value)?t.value.flatMap((n,o)=>typeof n=="object"?Object.entries(n).map(([s,d])=>({name:`[${t.name}][${o}][${s}]`,value:d})):{name:`[${t.name}][${o}]`,value:n}):t.value!==null&&typeof t.value=="object"&&!Array.isArray(t.value)?Object.entries(t.value).map(([n,o])=>({name:`[${t.name}][${n}]`,value:o})):[]);return(n,o)=>a.value?(p(),b(M,C({key:n.name},{...t,...n.$attrs},{name:n.name,value:n.value}),null,16,["name","value"])):(p(!0),w(j,{key:1},T(l.value,s=>(p(),b(M,C({key:s.name,ref_for:!0},{...t,...n.$attrs},{name:s.name,value:s.value}),null,16,["name","value"]))),128))}}),[ye,ve]=de("SwitchRoot"),be=$({__name:"SwitchRoot",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean},id:{},value:{default:"on"},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:t}){const a=r,l=t,{disabled:n}=J(a),o=se(a,"modelValue",l,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function s(){n.value||(o.value=!o.value)}const{forwardRef:d,currentElement:g}=D(),k=me(g),_=y(()=>{var u;return a.id&&g.value?(u=document.querySelector(`[for="${a.id}"]`))==null?void 0:u.innerText:void 0});return ve({modelValue:o,toggleCheck:s,disabled:n}),(u,E)=>(p(),b(i(A),C(u.$attrs,{id:u.id,ref:i(d),role:"switch",type:u.as==="button"?"button":void 0,value:u.value,"aria-label":u.$attrs["aria-label"]||_.value,"aria-checked":i(o),"aria-required":u.required,"data-state":i(o)?"checked":"unchecked","data-disabled":i(n)?"":void 0,"as-child":u.asChild,as:u.as,disabled:i(n),onClick:s,onKeydown:Q(X(s,["prevent"]),["enter"])}),{default:v(()=>[P(u.$slots,"default",{modelValue:i(o)}),i(k)&&u.name?(p(),b(i(he),{key:0,type:"checkbox",name:u.name,disabled:i(n),required:u.required,value:u.value,checked:!!i(o)},null,8,["name","disabled","required","value","checked"])):H("",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),we=$({__name:"SwitchThumb",props:{asChild:{type:Boolean},as:{default:"span"}},setup(r){const t=ye();return D(),(a,l)=>{var n;return p(),b(i(A),{"data-state":(n=i(t).modelValue)!=null&&n.value?"checked":"unchecked","data-disabled":i(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:v(()=>[P(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}}),ge=$({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(r,{emit:t}){const a=r,l=t,n=y(()=>{const{class:s,...d}=a;return d}),o=pe(n,l);return(s,d)=>(p(),b(i(be),C({"data-slot":"switch"},i(o),{class:i(F)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:v(()=>[x(i(we),{"data-slot":"switch-thumb",class:K(i(F)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"))},{default:v(()=>[P(s.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),ke={class:"px-6 py-10 max-w-6xl mx-auto"},_e={key:0,class:"flex items-center gap-2 justify-center md:justify-end p-4 sm:justify-center"},xe={key:1,class:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-3 md:gap-6 gap-3"},$e=["src","alt"],Ce={class:"absolute top-2 right-2 bg-black/70 text-white px-1 py-0.8 md:px-3 md:py-2 rounded"},Ee={key:1,class:"flex flex-col items-center justify-center text-white/40 text-xs md:text-xl text-center px-4"},Be={key:2,class:"flex justify-center px-6 py-16 text-center"},Ve=80,Oe={__name:"my-collection",setup(r){const t=V(!1),a=V([]),l=V(!1),o=q().public.proxyAddress;function s(c){return a.value[c]&&a.value[c]>0}const d=y(()=>Array.from({length:Ve},(c,f)=>f).filter(c=>l.value?s(c):!0));function g(c){window.open(`https://testnets.opensea.io/assets/sepolia/${o}/${c}`,"_blank")}let k,_;const u=async()=>{try{window.ethereum||B("Wallet not found. Install MetaMask.",e),k=new le(window.ethereum),(await k.send("eth_accounts",[])).length>0?(_=await k.getSigner(),t.value=!0,await E()):B("Wallet not connected",e)}catch(c){B("Connection Error",c)}},E=async()=>{try{const c=await oe(),f={};c.forEach(({id:m,amount:S})=>{f[m]=parseInt(S)}),a.value=f}catch(c){B("Error fetching cards",c)}};return Y(async()=>{await u()}),(c,f)=>(p(),w(j,null,[x(i(re)),h("div",{class:K(["min-h-screen w-full text-white",{"overflow-x-hidden":!0}])},[h("div",ke,[t.value?(p(),w("div",_e,[f[1]||(f[1]=h("label",{class:"text-sm text-white"},"Show only owned",-1)),x(i(ge),{modelValue:l.value,"onUpdate:modelValue":f[0]||(f[0]=m=>l.value=m),class:"data-[state=checked]:bg-yellow-400"},null,8,["modelValue"])])):H("",!0),f[4]||(f[4]=h("h1",{class:"text-4xl font-bold text-center mb-10"},"My Collection",-1)),t.value?(p(),w("div",xe,[(p(!0),w(j,null,T(d.value,m=>(p(),b(i(ee),{key:m,class:"aspect-[3/4] relative overflow-hidden bg-white/5 border border-white/20 rounded-xl shadow-md transition-transform duration-300 hover:scale-110 hover:drop-shadow-lg cursor-pointer",onClick:S=>g(m)},{default:v(()=>[x(i(Z),{class:"w-full h-full flex items-center justify-center relative"},{default:v(()=>[s(m)?(p(),w(j,{key:0},[h("img",{src:`${("useRuntimeConfig"in c?c.useRuntimeConfig:i(q))().app.baseURL}/cards/${m}.png`,alt:`Card #${m}`,class:"object-contain w-full h-full"},null,8,$e),h("div",Ce," Ã—"+R(a.value[m]),1)],64)):(p(),w("div",Ee,[h("span",null,"Card #"+R(m),1),f[2]||(f[2]=h("span",null,"not owned",-1))]))]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):(p(),w("div",Be,[x(i(ae),{class:"max-w-4xl p-8"},{default:v(()=>[x(i(te),null,{default:v(()=>f[3]||(f[3]=[h("h1",{class:"text-4xl sm:text-5xl md:text-4xl font-bold tracking-tight mb-6 text-center p-4"}," Wallet not connected ",-1),h("p",{class:"md:text-xl leading-relaxed"}," To view your collection, connect with MetaMask ",-1)])),_:1,__:[3]})]),_:1})]))])])],64))}};export{Oe as default};
