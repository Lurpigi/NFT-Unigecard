import{_ as I}from"./9NSgpEN4.js";import{_ as w,a as x}from"./dBFWUy7R.js";import{_ as g}from"./DUJEb2r-.js";import{r as h,k as M,l as F,B as v,I as L,c,b as o,m as T,j as a,w as s,F as y,o as r,a as i,n as V,p as E,t as R,d as b}from"./Dtu0JvHn.js";import{c as S,s as p,_ as W}from"./O9TmTQVe.js";import"./DjqsqOe8.js";import"./CYw9dD7C.js";const q={key:0,class:"min-h-screen flex justify-center items-center px-6 py-16 text-center"},A={key:0,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mt-6"},D=["src","alt"],H={class:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded"},O={key:1,class:"mt-6"},P={class:"flex flex-col sm:flex-row gap-6 justify-center mt-8"},Z={__name:"result",setup(Y){const k=F(),m=h([]),_=h(!1);let f,N;const C=async()=>{try{window.ethereum||p("Wallet not found. Install MetaMask.",e),f=new v(window.ethereum),(await f.send("eth_accounts",[])).length>0?(N=await f.getSigner(),_.value=!0):p("Wallet not connected",e)}catch(l){p("Connection Error",l)}};return M(async()=>{await C();const{txHash:l}=k.query,d=await new v(window.ethereum).getTransactionReceipt(l),n=new L(S);for(const B of d.logs)try{const u=n.parseLog(B);if(u.name==="Minted"){m.value=u.args.ids.map(($,j)=>({id:Number($),amount:Number(u.args.amounts[j])}));break}}catch{continue}}),(l,t)=>{const d=I;return r(),c(y,null,[o(a(W)),_.value?(r(),c("div",q,[o(a(x),{class:"max-w-4xl p-8"},{default:s(()=>[o(a(w),null,{default:s(()=>[t[2]||(t[2]=i("h1",{class:"text-4xl sm:text-5xl md:text-5xl font-bold tracking-tight mb-6 text-center"}," Congratulations! ",-1)),t[3]||(t[3]=i("p",{class:"md:text-xl leading-relaxed"},"You found:",-1)),m.value.length?(r(),c("div",A,[(r(!0),c(y,null,V(m.value,n=>(r(),E(a(x),{key:n.id,class:"aspect-[3/4] relative overflow-hidden bg-white/5 border border-white/20 rounded-xl shadow-md transition-transform duration-300 hover:scale-105 hover:drop-shadow-lg"},{default:s(()=>[o(a(w),{class:"w-full h-full flex items-center justify-center relative"},{default:s(()=>[i("img",{src:`/cards/${n.id}.png`,alt:`Card #${n.id}`,class:"object-contain w-full h-full"},null,8,D),i("div",H," Ã—"+R(n.amount),1)]),_:2},1024)]),_:2},1024))),128))])):(r(),c("p",O,"Loading or no NFTs found.")),i("div",P,[o(d,{to:"/pack-opening",class:"w-full sm:w-auto"},{default:s(()=>[o(a(g),{class:"w-full sm:w-64 h-16 text-xl bg-yellow-400 hover:bg-yellow-500 text-black font-bold rounded-2xl"},{default:s(()=>t[0]||(t[0]=[b(" Open other packs ")])),_:1})]),_:1}),o(d,{to:"/my-collection",class:"w-full sm:w-auto"},{default:s(()=>[o(a(g),{class:"w-full sm:w-64 h-16 text-xl hover:text-white font-bold rounded-2xl"},{default:s(()=>t[1]||(t[1]=[b(" My Collection ")])),_:1})]),_:1})])]),_:1})]),_:1})])):T("",!0)],64)}}};export{Z as default};
