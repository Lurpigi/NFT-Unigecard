import{_ as j}from"./O8lPXY-x.js";import{r as g,k as I,l as L,B as _,I as M,c as i,b as s,m as F,j as o,w as a,F as x,o as l,a as c,n as T,p as V,g as E,t as S,d as h}from"./CBRop4dY.js";import{_ as v,a as y}from"./BDeVAmRW.js";import{_ as b}from"./1qDdIcbP.js";import{c as W,s as p,_ as q}from"./4Tq-fer7.js";import"./DjqsqOe8.js";import"./BQe832CO.js";const A={key:0,class:"min-h-screen flex justify-center items-center px-6 py-16 text-center"},D={key:0,class:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-3 gap-6 mt-6"},H=["src","alt"],O={class:"absolute top-2 right-2 bg-black/70 text-white px-1 py-0.8 md:px-3 md:py-2 rounded"},P={key:1,class:"mt-6"},U={class:"flex flex-col sm:flex-row gap-6 justify-center mt-8"},ee={__name:"result",setup(Y){const k=L(),m=g([]),w=g(!1);let f,C;const N=async()=>{try{window.ethereum||p("Wallet not found. Install MetaMask.",e),f=new _(window.ethereum),(await f.send("eth_accounts",[])).length>0?(C=await f.getSigner(),w.value=!0):p("Wallet not connected",e)}catch(n){p("Connection Error",n)}};return I(async()=>{await N();const{txHash:n}=k.query,d=await new _(window.ethereum).getTransactionReceipt(n),r=new M(W);for(const B of d.logs)try{const u=r.parseLog(B);if(u.name==="Minted"){m.value=u.args.ids.map(($,R)=>({id:Number($),amount:Number(u.args.amounts[R])}));break}}catch{continue}}),(n,t)=>{const d=j;return l(),i(x,null,[s(o(q)),w.value?(l(),i("div",A,[s(o(y),{class:"max-w-4xl p-8"},{default:a(()=>[s(o(v),null,{default:a(()=>[t[2]||(t[2]=c("h1",{class:"text-4xl sm:text-5xl md:text-5xl font-bold tracking-tight mb-6 text-center"}," Congratulations! ",-1)),t[3]||(t[3]=c("p",{class:"md:text-xl leading-relaxed"},"You found:",-1)),m.value.length?(l(),i("div",D,[(l(!0),i(x,null,T(m.value,r=>(l(),V(o(y),{key:r.id,class:"aspect-[3/4] relative overflow-hidden bg-white/5 border border-white/20 rounded-xl shadow-md transition-transform duration-300 hover:scale-105 hover:drop-shadow-lg"},{default:a(()=>[s(o(v),{class:"w-full h-full flex items-center justify-center relative"},{default:a(()=>[c("img",{src:`${("useRuntimeConfig"in n?n.useRuntimeConfig:o(E))().app.baseURL}/cards/${r.id}.png`,alt:`Card #${r.id}`,class:"object-contain w-full h-full"},null,8,H),c("div",O," Ã—"+S(r.amount),1)]),_:2},1024)]),_:2},1024))),128))])):(l(),i("p",P,"Loading or no NFTs found.")),c("div",U,[s(d,{to:"/pack-opening",class:"w-full sm:w-auto"},{default:a(()=>[s(o(b),{class:"w-full sm:w-64 h-16 text-xl bg-yellow-400 hover:bg-yellow-500 text-black font-bold rounded-2xl"},{default:a(()=>t[0]||(t[0]=[h(" Open other packs ")])),_:1})]),_:1}),s(d,{to:"/my-collection",class:"w-full sm:w-auto"},{default:a(()=>[s(o(b),{class:"w-full sm:w-64 h-16 text-xl hover:text-white font-bold rounded-2xl"},{default:a(()=>t[1]||(t[1]=[h(" My Collection ")])),_:1})]),_:1})])]),_:1})]),_:1})])):F("",!0)],64)}}};export{ee as default};
